(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{6898:function(e,t,n){Promise.resolve().then(n.bind(n,1176))},1176:function(e,t,n){"use strict";n.r(t);var r=n(7437),s=n(2265),i=n(2869),a=n(6070),l=n(8500),o=n(9376),c=n(3145),u=n(1817),d=n(2339),f=n(1317);let m=e=>{let{type:t}=e,[n,a]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),{login:d,signup:m,loading:g,error:h}=(0,l.a)(),[x,p]=(0,s.useState)(!1),v=(0,s.useRef)(null),b=async e=>{var r,s;e.preventDefault(),p(!0);let i=await (null===(r=v.current)||void 0===r?void 0:r.executeAsync());if(null===(s=v.current)||void 0===s||s.reset(),!i){console.error("reCAPTCHA token not found"),p(!1);return}try{"login"===t?await d(n,o,i):await m(n,o,i)}catch(e){console.error(e)}finally{p(!1)}};return(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"".concat(t,"-email"),className:"block text-sm font-medium mb-1",children:"Email"}),(0,r.jsx)("input",{id:"".concat(t,"-email"),type:"email",value:n,onChange:e=>a(e.target.value),required:!0,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"".concat(t,"-password"),className:"block text-sm font-medium mb-1",children:"Password"}),(0,r.jsx)("input",{id:"".concat(t,"-password"),type:"password",value:o,onChange:e=>c(e.target.value),required:!0,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,r.jsx)("div",{className:"flex justify-center pt-2",children:(0,r.jsx)(f.Z,{sitekey:"6LeIxAcqAAAAAM2a4Fpn3v58J2w5XANh4sJgz0a1",ref:v,size:"invisible"})}),(0,r.jsxs)(i.z,{type:"submit",className:"w-full",disabled:x||g,children:[x||g?(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}):null,"login"===t?"Sign In":"Sign Up"]}),h&&(0,r.jsx)("p",{className:"text-sm text-center text-destructive",children:h})]})};t.default=()=>{let{user:e,signInWithGoogle:t,signInWithGithub:n,signInWithFacebook:f,loading:g,error:h}=(0,l.a)(),x=(0,o.useRouter)(),[p,v]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&x.push("/")},[e,x]);let b=async(e,t)=>{v(t);try{await e()}finally{v(null)}};return g&&!p?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(u.Z,{className:"h-16 w-16 animate-spin text-primary"})}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,r.jsxs)(a.Zb,{className:"w-full max-w-sm",children:[(0,r.jsx)(a.Ol,{className:"text-center",children:(0,r.jsx)(a.ll,{className:"text-2xl",children:"Authentication"})}),(0,r.jsx)(a.aY,{children:(0,r.jsxs)(d.mQ,{defaultValue:"login",className:"w-full",children:[(0,r.jsxs)(d.dr,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(d.SP,{value:"login",children:"Login"}),(0,r.jsx)(d.SP,{value:"signup",children:"Sign Up"})]}),(0,r.jsxs)(d.nU,{value:"login",className:"pt-6 space-y-4",children:[(0,r.jsx)(a.SZ,{className:"text-center",children:"Sign in with your email and password"}),(0,r.jsx)(m,{type:"login"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),(0,r.jsxs)(i.z,{onClick:()=>b(t,"google"),className:"w-full",variant:"outline",disabled:!!p,children:["google"===p?(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(c.default,{src:"https://www.vectorlogo.zone/logos/google/google-icon.svg",alt:"Google",width:20,height:20,className:"mr-2"}),"Sign in with Google"]}),(0,r.jsxs)(i.z,{onClick:()=>b(f,"facebook"),className:"w-full",variant:"outline",disabled:!!p,children:["facebook"===p?(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(c.default,{src:"https://www.vectorlogo.zone/logos/facebook/facebook-icon.svg",alt:"Facebook",width:20,height:20,className:"mr-2"}),"Sign in with Facebook"]}),(0,r.jsxs)(i.z,{onClick:()=>b(n,"github"),className:"w-full",variant:"outline",disabled:!!p,children:["github"===p?(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(c.default,{src:"https://www.vectorlogo.zone/logos/github/github-icon.svg",alt:"GitHub",width:20,height:20,className:"mr-2"}),"Sign in with GitHub"]}),h&&(0,r.jsx)("p",{className:"text-sm text-center text-destructive",children:h})]}),(0,r.jsxs)(d.nU,{value:"signup",className:"pt-6 space-y-4",children:[(0,r.jsx)(a.SZ,{className:"text-center",children:"Create a new account with your email and password"}),(0,r.jsx)(m,{type:"signup"}),h&&(0,r.jsx)("p",{className:"text-sm text-center text-destructive",children:h})]})]})})]})})}},2869:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(7437),s=n(2265),i=n(7495),a=n(535),l=n(4508);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:n,variant:s,size:a,asChild:c=!1,...u}=e,d=c?i.g7:"button";return(0,r.jsx)(d,{className:(0,l.cn)(o({variant:s,size:a,className:n})),ref:t,...u})});c.displayName="Button"},6070:function(e,t,n){"use strict";n.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return a},aY:function(){return u},ll:function(){return o}});var r=n(7437),s=n(2265),i=n(4508);let a=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});a.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})});c.displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",n),...s})});u.displayName="CardContent",s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",n),...s})}).displayName="CardFooter"},2339:function(e,t,n){"use strict";n.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return l},nU:function(){return u}});var r=n(7437),s=n(2265),i=n(271),a=n(4508);let l=i.fC,o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.aV,{ref:t,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...s})});o.displayName=i.aV.displayName;let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...s})});c.displayName=i.xz.displayName;let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.VY,{ref:t,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...s})});u.displayName=i.VY.displayName},8500:function(e,t,n){"use strict";let r;n.d(t,{H:function(){return f},a:function(){return m}});var s=n(7437),i=n(2265),a=n(2148),l=n(738),o=n(5566);let c={apiKey:o.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:o.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:o.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:o.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:o.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:o.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:o.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID};var u=n(9376);let d=(0,i.createContext)(void 0),f=e=>{let{children:t}=e,[n,o]=(0,i.useState)(null),[f,m]=(0,i.useState)(!0),[g,h]=(0,i.useState)(null),[x,p]=(0,i.useState)(null),v=(0,u.useRouter)();(0,i.useEffect)(()=>{try{let e=function(){if((0,l.C6)().length)r=(0,l.Mq)();else{if(!c.apiKey)throw console.error("Firebase config is missing API key. App cannot be initialized."),Error("Missing Firebase configuration.");r=(0,l.ZF)(c)}return r}(),t=(0,a.v0)(e);p(t);let n=(0,a.Aj)(t,e=>{o(e),m(!1)});return()=>n()}catch(e){console.error("Failed to initialize Firebase for Auth",e),m(!1),h("Could not connect to authentication service.")}},[]);let b=async(e,t,n)=>{if(h(null),!x){h("Authentication service is not available.");return}if(!n){h("reCAPTCHA check failed. Please try again.");return}try{await (0,a.Xb)(x,e,t),v.push("/")}catch(e){h(e.message),console.error(e)}},w=async(e,t,n)=>{if(h(null),!x){h("Authentication service is not available.");return}if(!n){h("reCAPTCHA check failed. Please try again.");return}try{await (0,a.e5)(x,e,t),v.push("/")}catch(e){h(e.message),console.error(e)}},N=async e=>{if(h(null),!x){h("Authentication service is not available.");return}try{await (0,a.rh)(x,e),v.push("/")}catch(e){h(e.message),console.error(e)}},y=async()=>{x&&(await (0,a.w7)(x),v.push("/auth"))};return(0,s.jsx)(d.Provider,{value:{user:n,currentUser:n,loading:f,error:g,signup:b,login:w,signInWithGoogle:()=>N(new a.hJ),signInWithFacebook:()=>N(new a._O),signInWithGithub:()=>N(new a.GH),logout:y},children:t})},m=()=>{let e=(0,i.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4508:function(e,t,n){"use strict";n.d(t,{cn:function(){return i}});var r=n(1994),s=n(3335);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[15,569,878,496,352,929,971,117,744],function(){return e(e.s=6898)}),_N_E=e.O()}]);